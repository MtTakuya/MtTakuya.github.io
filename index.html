<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>å„„ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼åŒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï½œæ—¥æ¬¡ã‚·ã‚¹ãƒ†ãƒ åŸºè»¸ï¼ˆMobile+ï¼‰</title>
<style>
:root{
  --bg:#0b0f1a; --panel:#0f172a; --ink:#e6edf3; --muted:#93a3b8; --line:#1f2a44;
  --accent:#7dd3fc; --accent-2:#a78bfa; --ok:#34d399; --warn:#f59e0b; --danger:#f87171;
  --shadow: 0 6px 24px rgba(2,6,23,.25), 0 2px 6px rgba(2,6,23,.2);
}
.light{
  --bg:#f7f8fb; --panel:#ffffff; --ink:#0f172a; --muted:#64748b; --line:#e5e7eb;
  --accent:#0ea5e9; --accent-2:#7c3aed; --ok:#10b981; --warn:#d97706; --danger:#ef4444;
  --shadow: 0 6px 18px rgba(2,6,23,.08), 0 2px 6px rgba(2,6,23,.06);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:radial-gradient(1200px 900px at 10% -10%, rgba(59,130,246,.08), transparent),
  radial-gradient(1000px 700px at 120% 20%, rgba(168,85,247,.08), transparent), var(--bg);
  color:var(--ink);
  font-family: "Hiragino Sans","Yu Gothic","Noto Sans JP",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-tap-highlight-color: transparent;
}
.app{display:grid;grid-template-rows:auto 1fr auto;min-height:100%}

/* Header */
header{
  position:sticky;top:0;z-index:10;backdrop-filter: blur(10px);
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  border-bottom:1px solid var(--line);
  display:flex;gap:.75rem;align-items:center;justify-content:space-between;padding:.6rem .9rem;
}
.brand{display:flex;gap:.6rem;align-items:center}
.logo{width:28px;height:28px;border-radius:10px;background:conic-gradient(from 180deg, var(--accent), var(--accent-2));
  box-shadow:var(--shadow);border:1px solid var(--line)}
.title{font-weight:800;letter-spacing:.2px;font-size:1rem}
.tools{display:flex;gap:.5rem}
.btn{
  border:1px solid var(--line); background:var(--panel); color:var(--ink);
  padding:.5rem .8rem; border-radius:.8rem; cursor:pointer; box-shadow:var(--shadow);
  font-weight:700; font-size:.9rem;
}
.btn:active{transform: translateY(1px)}
.iconbtn{padding:.45rem .6rem;border-radius:.7rem}

/* Top KPIs */
.topline{display:grid; gap:1rem; grid-template-columns: repeat(12,1fr); padding:1rem;}
.card{
  grid-column: span 3;
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)), var(--panel);
  border:1px solid var(--line); border-radius:16px; padding:.9rem; box-shadow:var(--shadow);
}
.card.wide{grid-column: span 6}
.card.full{grid-column: 1 / -1}
.kpi{display:flex;gap:.6rem;align-items:center;justify-content:space-between}
.kpi .num{font-size:2rem;font-weight:800;line-height:1}
.kpi .unit{color:var(--muted);font-weight:700;margin-left:.25rem}
.kpi-ctrl{display:flex;gap:.4rem}
.kpi-ctrl button{border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.6rem;padding:.25rem .55rem;font-weight:800}
.kpi-ctrl input{width:4.8rem;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.25rem .4rem;text-align:right}

/* Chips & common */
.chips{display:flex;gap:.4rem;flex-wrap:wrap;margin-top:.5rem}
.chip{border:1px solid var(--line); color:var(--muted); padding:.2rem .6rem; border-radius:999px; font-size:.8rem}
.badge{display:inline-block;padding:.2rem .6rem;border:1px solid var(--line);border-radius:8px;color:var(--muted);font-size:.8rem}
h3{margin:.2rem 0 .6rem 0}
h2{margin:.2rem 0}
.section{padding:1rem;display:grid;gap:1rem;grid-template-columns: repeat(12,1fr)}
.panel{
  grid-column: span 6;background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:1rem;box-shadow:var(--shadow)
}
.panel.full{grid-column: 1/-1}
.panel h3{display:flex;align-items:center;justify-content:space-between;margin:.2rem 0 1rem}
.muted{color:var(--muted)}

/* timeline */
.timeline{display:grid;gap:1rem}
.milestone{display:flex;gap:.8rem;align-items:center;border-left:3px solid var(--line);padding-left:.8rem}
.milestone .dot{width:.7rem;height:.7rem;border-radius:999px;background:var(--accent)}
.milestone .name{font-weight:700}
.milestone .when{color:var(--muted);font-weight:700;margin-left:auto}

/* grids */
.grid-3{display:grid;gap:.8rem;grid-template-columns:repeat(3,1fr)}
.grid-2{display:grid;gap:.8rem;grid-template-columns:repeat(2,1fr)}
.row{display:flex;gap:.8rem;align-items:center}
.rule{border:1px dashed var(--line);padding:.6rem .8rem;border-radius:12px}
ul.clean{list-style:none;padding:0;margin:.4rem 0}
ul.clean li{padding:.25rem 0}

/* checklist */
.todo{display:grid;gap:.5rem}
.item{display:flex;gap:.6rem;align-items:flex-start;border:1px solid var(--line);padding:.6rem .7rem;border-radius:.8rem;background:var(--panel)}
.item input{transform:translateY(2px);accent-color: var(--accent)}
.item .label{flex:1}
.small{font-size:.9rem}
hr.sep{border:none;border-top:1px solid var(--line);margin:.8rem 0}
kbd{border:1px solid var(--line);padding:.1rem .4rem;border-radius:.4rem;background:rgba(255,255,255,.04)}

/* tabs + swipe */
.tabs{display:flex;gap:.4rem;flex-wrap:wrap;margin-bottom:.6rem}
.tab{padding:.4rem .8rem;border:1px solid var(--line);border-radius:999px;cursor:pointer;color:var(--muted);background:var(--panel)}
.tab.active{color:var(--ink);border-color:var(--accent)}
.hidden{display:none}
.tabpane{touch-action: pan-y;}

/* bottom bar for mobile quick access */
.bottombar{
  position:sticky;bottom:0;z-index:15;background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.1));
  border-top:1px solid var(--line);display:flex;gap:.6rem;justify-content:space-between;padding:.55rem .8rem;backdrop-filter: blur(6px);
}
.bottombar .btn{flex:1;text-align:center}

/* responsive */
@media (max-width: 1100px){ .card,.panel{grid-column: 1 / -1} }
@media (max-width: 720px){
  header{padding:.55rem .8rem}
  .title{font-size:.95rem}
  .topline{padding:.8rem;gap:.8rem}
  .section{padding:.8rem;gap:.8rem}
  .card,.panel{border-radius:14px}
  .kpi .num{font-size:1.8rem}
  .kpi-ctrl input{width:4.2rem}
  .grid-3{grid-template-columns:1fr}
  .grid-2{grid-template-columns:1fr}
}
@media (max-width: 400px){
  .kpi .num{font-size:1.6rem}
  .btn{font-size:.85rem}
}

/* print */
@media print{
  header,.chips .chip.hide-print,.tools,.bottombar{display:none!important}
  body{background:#fff}
  .panel,.card{box-shadow:none}
}
</style>
</head>
<body class="light" id="root">
  <div class="app">
    <header>
      <div class="brand">
        <div class="logo"></div>
        <div class="title">å„„ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼åŒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ <span class="badge">2026å¹´11æœˆ ä¸–ç•Œå¤§ä¼šãƒ”ãƒ¼ã‚¯</span></div>
      </div>
      <div class="tools">
        <button class="btn iconbtn" id="theme">ğŸŒ—</button>
        <button class="btn iconbtn" onclick="window.print()">ğŸ–¨</button>
        <button class="btn iconbtn" id="reset" title="é€²æ—ãƒªã‚»ãƒƒãƒˆ">â†º</button>
        <button class="btn" id="edit">âœ ç·¨é›†</button>
      </div>
    </header>

    <!-- KPI row -->
    <section class="topline">
      <!-- ä½“é‡ -->
      <div class="card">
        <div class="kpi">
          <div>
            <span class="num" id="wt">71</span><span class="unit">kg</span>
            <div class="muted small">ç¾åœ¨ä½“é‡ï¼ˆç›®æ¨™ <span id="wtTarget">77</span>kgï¼‰</div>
          </div>
          <div class="kpi-ctrl">
            <button id="wtMinus">âˆ’</button>
            <input id="wtInput" type="number" step="0.1" inputmode="decimal">
            <button id="wtPlus">ï¼‹</button>
          </div>
        </div>
      </div>
      <!-- ç¡çœ  -->
      <div class="card">
        <div class="kpi">
          <div>
            <span class="num" id="sleep">7.0</span><span class="unit">h</span>
            <div class="muted small">å¹³å‡ç¡çœ ï¼ˆä¸‹é™ <span id="sleepMin">7.0</span>hï¼‰</div>
          </div>
          <div class="kpi-ctrl">
            <button id="slMinus">âˆ’</button>
            <input id="slInput" type="number" step="0.1" inputmode="decimal">
            <button id="slPlus">ï¼‹</button>
          </div>
        </div>
      </div>
      <!-- æ°´åˆ† -->
      <div class="card">
        <div class="kpi">
          <div>
            <span class="num" id="water">2.5</span><span class="unit">L</span>
            <div class="muted small">æ°´åˆ†ï¼ˆåˆå®¿æ™‚ <span id="waterCamp">3.0</span>Lï¼‰</div>
          </div>
          <div class="kpi-ctrl">
            <button id="waMinus">âˆ’</button>
            <input id="waInput" type="number" step="0.1" inputmode="decimal">
            <button id="waPlus">ï¼‹</button>
          </div>
        </div>
      </div>

      <div class="card wide">
        <h3>ä»Šæ—¥ã®3æ‰‹</h3>
        <div class="chips">
          <span class="chip">é¢¨å‘‚æƒé™¤ï¼‹é£Ÿå™¨æ´—ã„<small>ï¼ˆæ¯æ—¥ãƒ‡ãƒ•ã‚©ï¼‰</small></span>
          <span class="chip">ã‚¸ãƒ ï¼šA/B/C/Dã®ã„ãšã‚Œã‹</span>
          <span class="chip">çŸ¥è­˜ã‚¹ãƒ©ã‚¤ãƒ‰1æšâ†’Anki5åˆ†</span>
          <span class="chip hide-print">ãƒ’ãƒ³ãƒˆï¼š<kbd>å·¦å³ã‚¹ãƒ¯ã‚¤ãƒ—</kbd>ã§ã‚¿ãƒ–ç§»å‹•</span>
        </div>
      </div>
    </section>

    <!-- Roadmap & Schedule -->
    <section class="section">
      <div class="panel">
        <h3>ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆ2025/10 â†’ 2026/11ï¼‰<span class="muted small">é•·æœŸã®æµã‚Œ</span></h3>
        <div class="timeline">
          <div class="milestone"><span class="dot"></span><span class="name">ãƒ•ã‚§ãƒ¼ã‚ºAï¼šåœŸå°ï¼ˆã€œ2026/01ï¼‰</span><span class="when">ç¡çœ /æ°´åˆ†/å®¶äº‹/ä¾å­˜å¯¾ç­–/åŸºç¤ä½“åŠ›</span></div>
          <div class="milestone"><span class="dot"></span><span class="name">ãƒ•ã‚§ãƒ¼ã‚ºBï¼šå°ã•ãç¨¼ãï¼ˆã€œ2026/05ï¼‰</span><span class="when">Bæ¡ˆÎ²/Cæ¡ˆMVP/PCè³¼å…¥/ä¼šè­°é‹ç”¨</span></div>
          <div class="milestone"><span class="dot"></span><span class="name">ãƒ•ã‚§ãƒ¼ã‚ºCï¼šç¶™ç¶šåå…¥åŒ–ï¼ˆã€œ2026/09ï¼‰</span><span class="when">æœˆ3â€“10ä¸‡å¸¯/ä½“é‡76kgå°</span></div>
          <div class="milestone"><span class="dot"></span><span class="name">ãƒ•ã‚§ãƒ¼ã‚ºDï¼šä»•ä¸Šã’ï¼ˆã€œ2026/11ï¼‰</span><span class="when">ç–²åŠ´ç®¡ç†/ç™ºä¿¡/ä¸–ç•Œå¤§ä¼šãƒ”ãƒ¼ã‚¯</span></div>
        </div>
        <hr class="sep">
        <div class="grid-2">
          <div class="rule">
            <b>åœŸæ›œ</b>ï¼š10â€“12(ã€œ13) ãƒ©ã‚°ãƒ“ãƒ¼ â†’ è£œå¼· / 3é€£ä¼‘ï¼åˆå®¿ï¼ˆ1æ—¥ç›®å¯å‹•åŸŸâ†’2æ—¥ç›®ãƒ¡ã‚¤ãƒ³â†’3æ—¥ç›®èª¿æ•´ï¼‰
          </div>
          <div class="rule">
            <b>å¹³æ—¥</b>ï¼š9â€“17:30å‹¤å‹™ â†’ å®¶äº‹ â†’ é€±4ã‚¸ãƒ  or ã‚¹ãƒ—ãƒªãƒ³ãƒˆ â†’ å­¦ç¿’45åˆ† â†’ 23:30å°±å¯
          </div>
        </div>
      </div>

      <div class="panel">
        <h3>4æœ¬æŸ± <span class="muted small">æ—¥æ¬¡ã‚·ã‚¹ãƒ†ãƒ ã®ä¸­æ ¸</span></h3>
        <div class="grid-2">
          <div class="rule"><b>åŸºç›¤</b><br>ç¡çœ 7h / æ°´2.5L / å®¶äº‹ãƒ‡ãƒ•ã‚©ï¼ˆé¢¨å‘‚ï¼‹é£Ÿå™¨ï¼‰ï¼‹ãƒ­ãƒ¼ãƒ†1ã¤</div>
          <div class="rule"><b>ç«¶æŠ€ã‚¨ãƒ³ã‚¸ãƒ³</b><br>é€±4ã‚¸ãƒ ï¼ˆAä¸‹åŠèº«é‡ / Bä¸ŠåŠèº« / Cè£œå¼· / Dä¸‹åŠèº«ä¸­ï¼‹è…¹ï¼‰ï¼‹é€±2ã‚¹ãƒ—ãƒªãƒ³ãƒˆ</div>
          <div class="rule"><b>ã‚¹ã‚­ãƒ«ãƒ»çŸ¥è­˜ã‚¨ãƒ³ã‚¸ãƒ³</b><br>æŠ€è¡“45åˆ†/æ—¥ï¼ˆGitãƒ»Pythonãƒ»LLMãƒ»é…å¸ƒãƒ»èª²é‡‘ï¼‰/ çŸ¥è­˜15åˆ†Ã—3ï¼ˆ1æ—¥1æšâ†’Ankiï¼‰</div>
          <div class="rule"><b>ãƒ¬ãƒãƒ¬ãƒƒã‚¸</b><br>Bæ¡ˆï¼šä¼šè­°ã€è¦ç‚¹/å®¿é¡Œ/æ—¥ç¨‹ã€‘â†’Î²èª²é‡‘ / Cæ¡ˆï¼šYouTubeå­¦ç¿’åŒ–ãƒ„ãƒ¼ãƒ«</div>
        </div>
      </div>

      <div class="panel full">
        <h3>é€±é–“è¨ˆç”»ï¼ˆå›ºå®šãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ï¼‰ <span class="muted small">ãƒã‚§ãƒƒã‚¯ã¯ä¿å­˜</span></h3>
        <div class="tabs">
          <div class="tab active" data-tab="mon">æœˆã€œé‡‘</div>
          <div class="tab" data-tab="sat">åœŸæ›œ</div>
          <div class="tab" data-tab="sun">æ—¥æ›œ</div>
        </div>
        <div id="mon" class="tabpane">
          <div class="todo" id="todo-weekday"></div>
        </div>
        <div id="sat" class="tabpane hidden">
          <div class="todo" id="todo-sat"></div>
        </div>
        <div id="sun" class="tabpane hidden">
          <div class="todo" id="todo-sun"></div>
        </div>
      </div>
    </section>

    <!-- Training & Product -->
    <section class="section">
      <div class="panel">
        <h3>ã‚¸ãƒ  & ã‚¹ãƒ—ãƒªãƒ³ãƒˆï¼ˆé€±4ï¼‹é€±2ï¼‰<span class="muted small">ã‚»ãƒ–ãƒ³ã‚¹ä»•æ§˜</span></h3>
        <div class="grid-2">
          <div>
            <h4>Aï¼šä¸‹åŠèº«é‡</h4>
            <ul class="clean small"><li>SQ 6â€“8Ã—3 / RDL 6â€“8Ã—3 / ãƒ©ãƒ³ã‚¸ / ã‚«ãƒ¼ãƒ•</li><li>ä½“å¹¹ï¼šãƒ­ãƒ¼ãƒ©ãƒ¼ 8â€“12Ã—3 â†’ ç«‹ã¡ã‚³ãƒ­è£œåŠ©ã¸</li></ul>
            <h4>Bï¼šä¸ŠåŠèº«ãƒ—ãƒ¬ã‚¹</h4>
            <ul class="clean small"><li>BP / ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼ãƒ—ãƒ¬ã‚¹ / ãƒ‡ã‚£ãƒƒãƒ—ã‚¹</li><li>é¦–ã‚¢ã‚¤ã‚½ï¼ˆé€±2ï¼‰</li></ul>
          </div>
          <div>
            <h4>Cï¼šã‚¹ãƒ—ãƒªãƒ³ãƒˆè£œå¼·</h4>
            <ul class="clean small"><li>ãƒ—ãƒ©ã‚¤ã‚ªãƒ»å›æ—‹ãƒ»è‡€éƒ¨ï¼‹ãƒ­ãƒ¼/æ‡¸å‚</li></ul>
            <h4>Dï¼šä¸‹åŠèº«ä¸­ï¼‹è…¹</h4>
            <ul class="clean small"><li>ç‰‡è„šç³»ãƒ»ãƒ’ãƒ³ã‚¸ / ãƒ­ãƒ¼ãƒ©ãƒ¼ãƒ»ãƒ—ãƒ©ãƒ³ã‚¯</li></ul>
            <hr class="sep">
            <div class="small">ã‚¹ãƒ—ãƒªãƒ³ãƒˆï¼š10m/30m/60m Ã— å„3ï¼ˆå®Œå…¨ãƒ¬ã‚¹ãƒˆï¼‰ Ã— é€±2</div>
          </div>
        </div>
      </div>

      <div class="panel">
        <h3>ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆè¨ˆç”» <span class="muted small">é…å¸ƒå„ªå…ˆï¼šWebâ†’æ‹¡å¼µâ†’Electron</span></h3>
        <div class="grid-2">
          <div class="rule"><b>Bæ¡ˆï¼šä¼šè­°3ç‚¹æŠ½å‡º</b><br>MVPâ†’Markdownå‡ºåŠ› / Î²ï¼šä¿å­˜ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ»å…±æœ‰ãƒ»Stripeèª²é‡‘ï¼ˆÂ¥300â€“Â¥980/æœˆï¼‰</div>
          <div class="rule"><b>Cæ¡ˆï¼šYouTubeé›†ä¸­æ”¯æ´</b><br>è¦ç´„ãƒ»ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãƒ»å˜èªãƒ†ã‚¹ãƒˆ / æœˆÂ¥300 or Â¥980è²·åˆ‡</div>
        </div>
        <div class="chips" style="margin-top:.6rem">
          <span class="chip">å‰¯æ¥­ãƒ«ãƒ¼ãƒ«ï¼šå€‹äººPC / å‹¤å‹™å¤– / æ©Ÿå¯†NG</span>
          <span class="chip">ç„¡æ–™ã¯å›æ•°åˆ¶é™ / æœ‰æ–™ã¯ä¿å­˜ãƒ»å…±æœ‰</span>
        </div>
      </div>
    </section>

    <!-- Knowledge Curriculum -->
    <section class="section">
      <div class="panel full">
        <h3>çŸ¥è­˜ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ï¼ˆæ¯æ—¥15åˆ†Ã—3ï¼‰<span class="muted small">1æ—¥1æšâ†’Ankiâ†’é‡‘åœŸ10å•</span></h3>
        <div class="tabs">
          <div class="tab active" data-tab="hist">æ­´å²/æ”¿æ²»/çµŒæ¸ˆ</div>
          <div class="tab" data-tab="sports">ã‚¹ãƒãƒ¼ãƒ„/è»Š/ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³</div>
          <div class="tab" data-tab="life">é…’/å®¶ã¨ãŠé‡‘/æ—…è¡Œãƒ»ä¼šè©±</div>
        </div>
        <div id="hist" class="tabpane">
          <div class="grid-3">
            <div class="rule"><b>æ­´å²</b><ul class="clean small"><li>æµã‚Œï¼šå‡ºæ¥äº‹â†’å› â†’æœâ†’é•·æœŸå½±éŸ¿</li><li>ç”£æ¥­é©å‘½â†’éƒ½å¸‚åŒ–â†’åŠ´åƒæ³•â†’é¸æŒ™åˆ¶åº¦</li></ul></div>
            <div class="rule"><b>æ”¿æ²»ãƒ»åˆ¶åº¦</b><ul class="clean small"><li>ä¸‰æ¨©åˆ†ç«‹ / é¸æŒ™ / åœ°æ–¹è‡ªæ²»</li><li>ç¨ãƒ»ç¤¾ä¼šä¿éšœã®æµã‚Œ</li></ul></div>
            <div class="rule"><b>çµŒæ¸ˆãƒ»æŠ•è³‡</b><ul class="clean small"><li>é‡‘åˆ©ãƒ»ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ»ç‚ºæ›¿</li><li>æŒ‡æ•°æŠ•è³‡ãƒ»è¤‡åˆ©ãƒ»ãƒªãƒãƒ©ãƒ³ã‚¹ / FCF</li></ul></div>
          </div>
        </div>
        <div id="sports" class="tabpane hidden">
          <div class="grid-3">
            <div class="rule"><b>ã‚¹ãƒãƒ¼ãƒ„</b><ul class="clean small"><li>å¤§ä¼š/åæ‰€ï¼šèŠ±åœ’ï¼æ±å¤§é˜ªå¸‚èŠ±åœ’ãƒ©ã‚°ãƒ“ãƒ¼å ´</li><li>åå‰‡ãƒ»é€†è»¢ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¨€èªåŒ–</li></ul></div>
            <div class="rule"><b>è»Š</b><ul class="clean small"><li>å›½ç”£/æµ·å¤–ã®ä¸»è¦ãƒ¡ãƒ¼ã‚«ãƒ¼</li><li>ãƒœãƒ‡ã‚£å‹Ã—ä¾¡æ ¼å¸¯â†’è¡—ã§å³ç­”ç·´ç¿’</li></ul></div>
            <div class="rule"><b>ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³</b><ul class="clean small"><li>æ¸‹ã‚¯ãƒ©ï¼šãƒ˜ãƒªãƒ†ãƒ¼ã‚¸Ã—ãƒŸãƒ‹ãƒãƒ«</li><li>å†ç¾ã‚³ãƒ¼ãƒ‡é€±1ä½“ / Pinteresté€±10ãƒ”ãƒ³</li></ul></div>
          </div>
        </div>
        <div id="life" class="tabpane hidden">
          <div class="grid-3">
            <div class="rule"><b>é…’</b><ul class="clean small"><li>è£½æ³•ï¼šãƒ“ãƒ¼ãƒ«/ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼/æ—¥æœ¬é…’</li><li>åœ°å›³Ã—ä»£è¡¨éŠ˜æŸ„Ã—ãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°èªå½™10</li></ul></div>
            <div class="rule"><b>å®¶ã¨ãŠé‡‘</b><ul class="clean small"><li>å›ºå®š/å¤‰å‹•è²»ã®è¨­è¨ˆãƒ»å¯è¦–åŒ–</li><li>å£åº§/ã‚¯ãƒ¬ã‚«ã®æœ€é©åŒ–</li></ul></div>
            <div class="rule"><b>æ—…è¡Œãƒ»ä¼šè©±</b><ul class="clean small"><li>æŒã¡ç‰©ãƒ†ãƒ³ãƒ—ãƒ¬ / å½“æ—¥å‹•ç·š</li><li>äº‹å®Ÿâ†’æ„Ÿæƒ…â†’è¦æœ› / è¦ç´„â†’æ„Ÿè¬</li></ul></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Living & Controls -->
    <section class="section">
      <div class="panel">
        <h3>å®¶äº‹ & ä¾å­˜å¯¾ç­–</h3>
        <div class="grid-2">
          <div class="rule"><b>å®¶äº‹ï¼ˆãƒ‡ãƒ•ã‚©ï¼šæ¯æ—¥ï¼‰</b><ul class="clean small"><li>é¢¨å‘‚æƒé™¤ / é£Ÿå™¨æ´—ã„ï¼ˆå¿…é ˆï¼‰</li><li>ï¼‹ãƒ­ãƒ¼ãƒ†1ã¤ï¼šæœˆã‚´ãƒŸ/ç«åºŠ/æ°´æ´—æ¿¯/æœ¨ã‚­ãƒƒãƒãƒ³/é‡‘è²·ã„å‡ºã—/åœŸéƒ¨å±‹/æ—¥ä½œã‚Šç½®ã</li></ul></div>
          <div class="rule"><b>ä¾å­˜å¯¾ç­–</b><ul class="clean small"><li>ã‚¹ãƒãƒ›ã¯å¯å®¤å¤–å……é›» / ãƒ™ãƒƒãƒ‰ã§ã‚¹ãƒãƒ›ç¦æ­¢</li><li>SNS/YouTubeï¼šæ˜¼15åˆ†ï¼‹å¤œ30åˆ†ï¼ˆã‚¿ã‚¤ãƒãƒ¼ï¼‰</li><li>ç½®æ›30ç§’ï¼šæ°´â†’ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ10â†’ã‚¢ãƒ—ãƒªçµ‚äº†â†’æœº</li></ul></div>
        </div>
      </div>
      <div class="panel">
        <h3>KPI & é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼ <span class="muted small">è‡ªå‹•ToDoç”Ÿæˆ</span></h3>
        <div class="todo" id="todo-weekly"></div>
      </div>
    </section>

    <!-- bottom quick actions (mobile-first) -->
    <div class="bottombar">
      <button class="btn" id="quickGym">ğŸ‹ï¸ ã‚¸ãƒ </button>
      <button class="btn" id="quickStudy">ğŸ“š å­¦ç¿’45åˆ†</button>
      <button class="btn" id="quickHouse">ğŸ§½ å®¶äº‹é”æˆ</button>
    </div>
  </div>

<!-- ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="modal" style="position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.35);z-index:50;">
  <div style="width:min(560px,92%);background:var(--panel);border:1px solid var(--line);border-radius:16px;box-shadow:var(--shadow);padding:1rem;">
    <h3 style="margin:.2rem 0 1rem;display:flex;justify-content:space-between;align-items:center">
      KPIç·¨é›† <span class="muted small">æ•°å€¤ã‚’ä¿å­˜ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«åæ˜ </span>
    </h3>
    <div class="grid-2" style="gap:.8rem">
      <div class="rule">
        <b>ä½“é‡</b>
        <div class="row"><label class="small">ç¾åœ¨</label><input id="f_wt" type="number" step="0.1" inputmode="decimal" style="flex:1;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.4rem .6rem"></div>
        <div class="row"><label class="small">ç›®æ¨™</label><input id="f_wtTarget" type="number" step="0.1" inputmode="decimal" style="flex:1;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.4rem .6rem"></div>
      </div>
      <div class="rule">
        <b>ç¡çœ </b>
        <div class="row"><label class="small">ç¾åœ¨å¹³å‡(h)</label><input id="f_sleep" type="number" step="0.1" inputmode="decimal" style="flex:1;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.4rem .6rem"></div>
        <div class="row"><label class="small">ä¸‹é™(h)</label><input id="f_sleepMin" type="number" step="0.1" inputmode="decimal" style="flex:1;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.4rem .6rem"></div>
      </div>
      <div class="rule">
        <b>æ°´åˆ†</b>
        <div class="row"><label class="small">ç¾åœ¨(L)</label><input id="f_water" type="number" step="0.1" inputmode="decimal" style="flex:1;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.4rem .6rem"></div>
        <div class="row"><label class="small">åˆå®¿æ™‚(L)</label><input id="f_waterCamp" type="number" step="0.1" inputmode="decimal" style="flex:1;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.4rem .6rem"></div>
      </div>
      <div class="rule">
        <b>é »åº¦è¨­å®š</b>
        <div class="row"><label class="small">é€±ã®ã‚¸ãƒ å›æ•°</label><input id="f_gymPerWeek" type="number" step="1" inputmode="numeric" style="flex:1;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.4rem .6rem"></div>
        <div class="row"><label class="small">ã‚¹ãƒ—ãƒªãƒ³ãƒˆ/é€±</label><input id="f_sprintPerWeek" type="number" step="1" inputmode="numeric" style="flex:1;border:1px solid var(--line);background:var(--panel);color:var(--ink);border-radius:.5rem;padding:.4rem .6rem"></div>
      </div>
    </div>
    <div class="row" style="justify-content:flex-end;margin-top:1rem">
      <button class="btn iconbtn" id="close">âœ–</button>
      <button class="btn" id="save">ä¿å­˜</button>
    </div>
  </div>
</div>

<script>
// ---------- ãƒ†ãƒ¼ãƒ ----------
const root = document.getElementById('root');
const THEME_KEY = 'oku_theme';
function applyTheme(t){ root.className = t; localStorage.setItem(THEME_KEY,t); }
applyTheme(localStorage.getItem(THEME_KEY) || 'light');
document.getElementById('theme').addEventListener('click',()=> applyTheme(root.className==='light'?'':'light'));

// ---------- ã‚¹ãƒ†ãƒ¼ãƒˆ ----------
const KEY = 'oku_kpi_v2';
const state = JSON.parse(localStorage.getItem(KEY) || '{}');
const defaults = { wt:71, wtTarget:77, sleep:7.0, sleepMin:7.0, water:2.5, waterCamp:3.0, gymPerWeek:4, sprintPerWeek:2 };
Object.keys(defaults).forEach(k=>{ if(state[k]==null) state[k]=defaults[k]; });
save();

function save(){ localStorage.setItem(KEY, JSON.stringify(state)); render(); }
function render(){
  // KPIè¡¨ç¤º
  document.getElementById('wt').textContent = Number(state.wt).toFixed(1).replace(/\.0$/,'');
  document.getElementById('wtTarget').textContent = Number(state.wtTarget).toFixed(0);
  document.getElementById('sleep').textContent = Number(state.sleep).toFixed(1);
  document.getElementById('sleepMin').textContent = Number(state.sleepMin).toFixed(1);
  document.getElementById('water').textContent = Number(state.water).toFixed(1);
  document.getElementById('waterCamp').textContent = Number(state.waterCamp).toFixed(1);

  // å…¥åŠ›æ¬„ï¼ˆKPIã‚«ãƒ¼ãƒ‰ï¼‰
  document.getElementById('wtInput').value = state.wt;
  document.getElementById('slInput').value = state.sleep;
  document.getElementById('waInput').value = state.water;

  // ãƒ¢ãƒ¼ãƒ€ãƒ«å…¥åŠ›
  f_wt.value = state.wt; f_wtTarget.value = state.wtTarget;
  f_sleep.value = state.sleep; f_sleepMin.value = state.sleepMin;
  f_water.value = state.water; f_waterCamp.value = state.waterCamp;
  f_gymPerWeek.value = state.gymPerWeek; f_sprintPerWeek.value = state.sprintPerWeek;
}

// ---------- KPIã‚«ãƒ¼ãƒ‰ï¼šÂ±ã¨ç›´æ¥å…¥åŠ› ----------
function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }
wtMinus.onclick = ()=>{ state.wt = clamp((+state.wt - 0.1), 40, 150); save(); };
wtPlus.onclick  = ()=>{ state.wt = clamp((+state.wt + 0.1), 40, 150); save(); };
wtInput.onchange= ()=>{ state.wt = clamp(parseFloat(wtInput.value||state.wt), 40, 150); save(); };

slMinus.onclick = ()=>{ state.sleep = clamp((+state.sleep - 0.1), 0, 16); save(); };
slPlus.onclick  = ()=>{ state.sleep = clamp((+state.sleep + 0.1), 0, 16); save(); };
slInput.onchange= ()=>{ state.sleep = clamp(parseFloat(slInput.value||state.sleep), 0, 16); save(); };

waMinus.onclick = ()=>{ state.water = clamp((+state.water - 0.1), 0, 10); save(); };
waPlus.onclick  = ()=>{ state.water = clamp((+state.water + 0.1), 0, 10); save(); };
waInput.onchange= ()=>{ state.water = clamp(parseFloat(waInput.value||state.water), 0, 10); save(); };

// ---------- ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« ----------
const modal = document.getElementById('modal');
const openModal = ()=> modal.style.display='grid';
const closeModal = ()=> modal.style.display='none';
document.getElementById('edit').onclick = openModal;
document.getElementById('close').onclick = closeModal;

const f_wt = document.getElementById('f_wt');
const f_wtTarget = document.getElementById('f_wtTarget');
const f_sleep = document.getElementById('f_sleep');
const f_sleepMin = document.getElementById('f_sleepMin');
const f_water = document.getElementById('f_water');
const f_waterCamp = document.getElementById('f_waterCamp');
const f_gymPerWeek = document.getElementById('f_gymPerWeek');
const f_sprintPerWeek = document.getElementById('f_sprintPerWeek');

document.getElementById('save').onclick = ()=>{
  state.wt = +f_wt.value || state.wt;
  state.wtTarget = +f_wtTarget.value || state.wtTarget;
  state.sleep = +f_sleep.value || state.sleep;
  state.sleepMin = +f_sleepMin.value || state.sleepMin;
  state.water = +f_water.value || state.water;
  state.waterCamp = +f_waterCamp.value || state.waterCamp;
  state.gymPerWeek = +f_gymPerWeek.value || state.gymPerWeek;
  state.sprintPerWeek = +f_sprintPerWeek.value || state.sprintPerWeek;
  save(); closeModal();
};

// ---------- é€²æ—ãƒ»ã‚¿ãƒ–ãƒ»ã‚¹ãƒ¯ã‚¤ãƒ— ----------
function bindChecklist(container, key, items){
  const el = document.getElementById(container);
  const s = JSON.parse(localStorage.getItem(key)||'{}');
  el.innerHTML = '';
  items.forEach((t,i)=>{
    const id = key+'_'+i;
    const wrap = document.createElement('div'); wrap.className='item';
    const cb = document.createElement('input'); cb.type='checkbox'; cb.id=id; cb.checked=!!s[id];
    cb.addEventListener('change',()=>{ s[id]=cb.checked; localStorage.setItem(key,JSON.stringify(s)); });
    const lab = document.createElement('label'); lab.className='label'; lab.setAttribute('for',id); lab.innerText=t;
    wrap.appendChild(cb); wrap.appendChild(lab); el.appendChild(wrap);
  });
}
document.getElementById('reset').addEventListener('click',()=>{
  if(confirm('å…¨ãƒã‚§ãƒƒã‚¯ã¨è¨­å®šã‚’åˆæœŸåŒ–ã—ã¾ã™ã‹ï¼Ÿ')){
    const theme = localStorage.getItem(THEME_KEY);
    localStorage.clear();
    if(theme) localStorage.setItem(THEME_KEY,theme);
    location.reload();
  }
});

// ã‚¿ãƒ–
const tabs = [...document.querySelectorAll('.tab')];
const panes = [...document.querySelectorAll('.tabpane')];
tabs.forEach(tab=>{
  tab.addEventListener('click',()=> activateTab(tab.dataset.tab));
});
function activateTab(id){
  tabs.forEach(t=>t.classList.toggle('active', t.dataset.tab===id));
  panes.forEach(p=>p.classList.toggle('hidden', p.id!==id));
}
function swipeTabs(containerId){
  const el = document.getElementById(containerId);
  let x0=null;
  el.addEventListener('touchstart',e=>{ x0 = e.touches[0].clientX; },{passive:true});
  el.addEventListener('touchmove',e=>{
    if(x0==null) return;
    const dx = e.touches[0].clientX - x0;
    if(Math.abs(dx)>60){
      const order = ['mon','sat','sun'];
      const cur = order.findIndex(id=>!document.getElementById(id).classList.contains('hidden'));
      const next = dx<0 ? Math.min(cur+1, order.length-1) : Math.max(cur-1,0);
      activateTab(order[next]);
      x0=null;
    }
  },{passive:true});
}
swipeTabs('mon'); swipeTabs('sat'); swipeTabs('sun');

// é€±é–“ãƒã‚§ãƒƒã‚¯
bindChecklist('todo-weekday','chk_weekday',[
  '06:30 èµ·åºŠâ†’æ°´â†’æ—¥å…‰â†’çŸ¥è­˜ãƒãƒ¼ãƒˆ15åˆ†',
  'å‡ºå‹¤å‰ï¼šè·ç‰©ãƒã‚§ãƒƒã‚¯ï¼ˆPC/ãƒœãƒˆãƒ«/ãƒ—ãƒ­ãƒ†ã‚¤ãƒ³ï¼‰',
  '12:30 æ•£æ­©10åˆ†ï¼‹SNS 15åˆ†ã¾ã§',
  'å¸°å®…å¾Œï¼šé¢¨å‘‚æƒé™¤ï¼‹é£Ÿå™¨æ´—ã„ï¼ˆå¿…é ˆï¼‰',
  'ã‚¸ãƒ  or ã‚¹ãƒ—ãƒªãƒ³ãƒˆï¼ˆé€±'+state.gymPerWeek+'/'+state.sprintPerWeek+'ï¼‰',
  'é¢¨å‘‚â†’æ „é¤Šâ†’å­¦ç¿’45åˆ†ï¼ˆæŠ€è¡“/çŸ¥è­˜ï¼‰',
  '23:00 ã‚¹ãƒˆãƒ¬ãƒƒãƒ / ã‚¹ãƒãƒ›åˆ¥å®¤å……é›»â†’23:30å°±å¯ï¼ˆ7hï¼‰'
]);
bindChecklist('todo-sat','chk_sat',[
  '10:00â€“12:00 ãƒ©ã‚°ãƒ“ãƒ¼ï¼ˆã€œ13:00ã®å ´åˆã‚ã‚Šï¼‰',
  'è£œçµ¦ï¼šç³–ï¼‹WPIã€ã‚¢ã‚¤ã‚·ãƒ³ã‚°/ã‚¹ãƒˆãƒ¬ãƒƒãƒ',
  'è£œå¼·ï¼ˆä¸‹åŠèº«/ä½“å¹¹ï¼‰',
  'éƒ¨å±‹ãƒªã‚»ãƒƒãƒˆ60åˆ†',
  'ä½œã‚Šç½®ã1å“'
]);
bindChecklist('todo-sun','chk_sun',[
  'å›å¾©ï¼šè»½ã„æœ‰é…¸ç´  or ãƒ¢ãƒ“ãƒªãƒ†ã‚£',
  'é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼20åˆ†ï¼ˆKPIãƒ»äºˆå®šãƒ»è·ç‰©ãƒ†ãƒ³ãƒ—ãƒ¬æ›´æ–°ï¼‰',
  'ãƒ‡ãƒ¼ãƒˆ/å®¶æ—ã®æ™‚é–“',
  'ä½œã‚Šç½®ã2å“'
]);

// é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆè‡ªå‹•ToDoï¼‰
function weeklyItems(){
  return [
    'KPIå…¥åŠ›ï¼šä½“é‡ãƒ»ç¡çœ å¹³å‡ãƒ»æ°´åˆ†ãƒ»ã‚¹ãƒ—ãƒªãƒ³ãƒˆTT',
    'å‰¯æ¥­é€²æ—ï¼šBæ¡ˆã®æ”¹å–„Ã—2 / Cæ¡ˆã®1ãƒªãƒªãƒ¼ã‚¹',
    'çŸ¥è­˜ï¼š1æ—¥1æšÃ—7â†’é‡‘åœŸã‚¯ã‚¤ã‚º10å•',
    'å®¶äº‹ï¼šãƒ‡ãƒ•ã‚©æ¯æ—¥ï¼‹ãƒ­ãƒ¼ãƒ†ã®é”æˆç‡80%ä»¥ä¸Š',
    'ä¾å­˜å¯¾ç­–ï¼šâ—‹Ã—ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ›´æ–°ï¼ˆé€£ç¶šæ—¥æ•°ï¼‰',
    'æ¬¡é€±ã®3ã‚¿ã‚¹ã‚¯æ±ºå®šï¼ˆæœ€å¤§3ã¤ã«çµã‚‹ï¼‰'
  ];
}
function bindWeekly(){ bindChecklist('todo-weekly','chk_weekly', weeklyItems()); }
bindWeekly();

// ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆä¸‹éƒ¨ãƒãƒ¼ï¼‰
document.getElementById('quickGym').onclick   = ()=> alert('ã€Œã‚¸ãƒ ã€é”æˆï¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’æ›´æ–°ã—ã¦ã­ğŸ’ª');
document.getElementById('quickStudy').onclick = ()=> alert('ã€Œå­¦ç¿’45åˆ†ã€ã„ã£ã¦ã‚‰ã£ã—ã‚ƒã„ğŸ“šï¼ˆçµ‚ã‚ã£ãŸã‚‰ãƒã‚§ãƒƒã‚¯ï¼‰');
document.getElementById('quickHouse').onclick = ()=> alert('ã€Œå®¶äº‹ã€é”æˆ âœ…');

window.addEventListener('keydown',(e)=>{
  // é€±æ¬¡ToDoæ›´æ–°ï¼ˆShift+Rï¼‰
  if(e.shiftKey && e.key.toLowerCase()==='r'){ bindWeekly(); alert('é€±æ¬¡ToDoã‚’æ›´æ–°ã—ã¾ã—ãŸ'); }
});

// åˆæœŸãƒ¬ãƒ³ãƒ€ãƒ¼
render();
</script>
</body>
</html>
